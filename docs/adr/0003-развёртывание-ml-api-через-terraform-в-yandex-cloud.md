# 3. Развёртывание через Terraform в Yandex Cloud
Дата: 2025-11-30

## Статус
Принято

## Контекст
После сборки Docker-образа необходимо развернуть API-сервис в облаке.
Требования:
- возможность управлять инфраструктурой как кодом,
- воспроизводимость развертывания,
- низкие операционные затраты,
- автоматическое масштабирование,
- лёгкая интеграция с CI/CD.

## Рассмотренные варианты

### Вариант 1: Terraform + Yandex Cloud  *(выбран)*
Плюсы:
- инфраструктура как код (IaC)
- автоматическое создание/обновление контейнера
- высокая воспроизводимость
- интеграция с GitHub Actions

Минусы:
- требуется минимальное знание Terraform

### Вариант 2: Ручное развёртывание
Минусы:
- не воспроизводимо
- невозможно автоматизировать CI/CD

### Вариант 3: Kubernetes
Минусы:
- чрезмерно сложно для одного ML-сервиса

## Решение
Использовать Terraform для управления инфраструктурой и Yandex Cloud Serverless Containers.

## Обоснование
1. **Воспроизводимый деплой** — создаётся одной командой `terraform apply`.
2. **Инфраструктура как код**
3. **Интеграция с GitHub Actions** — автоматический деплой после CI.
4. **Минимальные операционные затраты** — Yandex управляет масштабированием и сетями.
5. **Чистая архитектура** — Docker образ - Yandex Cloud - Terraform управляет версиями.

## Последствия
- простая поддержка и обновления
- быстрая подготовка окружения «с нуля»
- дальше можно легко расширить Terraform конфигурацию
